---
title: "FFmpeg"
---


<Warning>
Important

To process media files, MasteringX requires a working FFmpeg install.  


You will need both the **FFmpeg** and **FFProbe** binaries available in your system `PATH` (for automatic detection).

</Warning>


**FFmpeg** is free and open-source software for video and audio processing. It is a command-line tool that can be used
to convert, resize, and compress video and audio files.

MasteringX uses FFmpeg to optimize and convert videos into **HLS streamable format**, ensuring smooth delivery and
adaptive playback for users.


---

## Installation

To use FFmpeg with MasteringX, you can install it using your systemâ€™s package manager.

### Supported Platforms

#### Ubuntu / Debian

```bash
sudo apt update
sudo apt install ffmpeg
````

#### CentOS / RHEL

```bash
# Requires EPEL repository
sudo yum install epel-release
sudo yum install ffmpeg
```

#### Fedora

```bash
sudo dnf install ffmpeg
```

#### macOS

```bash
# Using Homebrew
brew install ffmpeg

# Or using MacPorts
sudo port install ffmpeg
```

---


To confirm the paths:

```bash
which ffmpeg
which ffprobe
```

## Confirm Binary Paths

Check the FFmpeg and FFProbe locations:

```bash
which ffmpeg
which ffprobe
```

Use these paths in your `.env` file if automatic detection doesn't work.

---


[//]: # (## Environment Variables Explained)

[//]: # (| Variable          | Description                                                   |)

[//]: # (| ----------------- | ------------------------------------------------------------- |)

[//]: # (| `FFMPEG_PATH`     | Absolute path to the FFmpeg binary                            |)

[//]: # (| `FFPROBE_PATH`    | Absolute path to the FFprobe binary &#40;used for media analysis&#41; |)

[//]: # (| `FFMPEG_TIMEOUT`  | Max execution time in seconds &#40;default: 3600 = 1 hour&#41;        |)

[//]: # (| `FFMPEG_THREADS`  | Number of CPU threads to use                                  |)

[//]: # (| `FFMPEG_TEMP_DIR` | Path for temporary files during processing                    |)

[//]: # (### Recommended Settings)

[//]: # ()

[//]: # (**Development:**)

[//]: # ()

[//]: # (```env)

[//]: # (FFMPEG_TIMEOUT=1800  # 30 minutes)

[//]: # (FFMPEG_THREADS=4)

[//]: # (```)

[//]: # ()

[//]: # (**Production:**)

[//]: # ()

[//]: # (```env)

[//]: # (FFMPEG_TIMEOUT=3600  # 1 hour)

[//]: # (FFMPEG_THREADS=12)

[//]: # (```)

[//]: # ()

[//]: # (> ðŸ’¡ Set `FFMPEG_THREADS` based on your server's CPU. Typically 1â€“2 threads per core.)

[//]: # ()

[//]: # (---)

[//]: # (## Prepare Temporary Directory)

[//]: # (Create and configure the temp directory for FFmpeg:)

[//]: # (```bash)

[//]: # (mkdir -p storage/app/tmp/ffmpeg)

[//]: # (chmod -R 755 storage/app/tmp/ffmpeg)

[//]: # (chown -R www-data:www-data storage/app/tmp/ffmpeg)

[//]: # (```)

---

## Testing FFmpeg

### Version Check

```bash
ffmpeg -version
```

### Test Media Conversion

```bash
# Generate a 5-second test video
ffmpeg -f lavfi -i testsrc=duration=5:size=320x240:rate=1 -y test_output.mp4

# Generate a 5-second test audio file
ffmpeg -f lavfi -i sine=frequency=1000:duration=5 -y test_output.wav
```

---

## Troubleshooting

* **Command Not Found:** Ensure FFmpeg and FFProbe are installed correctly.

---

## Resources

* [FFmpeg Official Website](https://ffmpeg.org/)
* [FFmpeg Documentation](https://ffmpeg.org/documentation.html)
* [FFmpeg Wiki](https://trac.ffmpeg.org/wiki/)

---
